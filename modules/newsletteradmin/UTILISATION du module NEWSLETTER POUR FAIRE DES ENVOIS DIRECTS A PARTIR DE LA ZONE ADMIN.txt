UTILISATION du module NEWSLETTER V2.2 POUR FAIRE DES ENVOIS DIRECTS A PARTIR DE LA ZONE ADMINA LIRE AVANT L'UTILISATION:- Aller à la Catégorie "Clients" en cliquant sur “Clients” ; un nouvel onglet est apparu dans la liste des onglets et à droite de “En Attente” : “Newsletter”.- Cliquez dessus ; apparaît le titre Newsletter et des variables %CIVILITY%– % FIRSTNAME % – % LASTNAME % – % MAIL % ainsi que %UNSUB% %SUB% et %LINK%.- Ce n’est pas très heureux en anglais, nous allons donc cliquer sur le drapeau français.Rechercher AdminNewsLetter - 123 expressions (123) et rentrez vos traductions perso : (ou copier le contenu du fichier fourni "translate_admin.txt" dans "Votre_Boutique/translations/fr/admin.php" avant le ?> final) !!!!    N’oubliez pas de traduire "en_EN.utf8" en "fr_FR.utf8" et "eng" en "fra" pour avoir une date en français dans le sujet de votre newsletter !!!! - Enregistrez les modifications et revenez sur « Clients », « Newsletter »- Vous pouvez utiliser les variables dans le titre/sujet. Par exemple, A l’attention de %PRENOM%, %NOM%, %CIVILITE%- Par défaut le titre est rempli (pour éviter les anti-spam) avec « Newsletter du » suivi de la date du jour, le tout formaté sans accent pour éviter les problèmes d'affichage des noms de fichiers.Les civilités, noms et prénoms s’afficheront dans le message si vous faites un envoi aux adhérents, par contre si  vous choisissez « Inscrits au Block Newsletter » seule  l’adresse Email sera visible, les noms et prénoms ne s’afficheront pas. (Logique, vu qu'ils ne se sont inscrits qu'avec leur adresse mail, le module n'est pas magicien non plus !) Si vous les utilisez quand même les variables seront remplacées par les valeurs « Mailer » et « Testman ».Les variables %LINK%  %SUB% et %UNSUB% sont valables dans tous les cas et servent à donner un lien de visualisation du mail à l’aide d’un navigateur d’une part et d’offrir un lien de désinscription d’autre part.Ces variables sont utilisables à n'importe quel endroit de votre mail.-Si vous voulez gérer la liste des emails inscrits au blocknewsletter un lien vers le module pss_newssuscribers est fourni.- Dessous choisissez la configuration :       -nombre d’emails par minute (attention au bridage de vos fournisseurs (ISP) souvent limité à 250/300 mail par heure) par défaut 60 (1 par seconde),       -envoi en test sur une adresse pas forcément inscrite au Block Newsletter (mais c'est préférable pour tester le lien de désinscription) par défaut celle de votre boutique,       -envoi de l’email aux inscrits du Block Newsletter,       -envoi à tous les clients,       -envoi aux clients inscrits à la Newsletter, 	  	  -envoi aux clients qui ont accepté les offres de nos partenaires,      -envoi à ceux dont c’est l’anniversaire (rentrez alors la date exacte autrement la date du jour est prise en compte),      -envoi au(x) groupe(s) choisi(s).	  	  -envoi à ceux qui n'auraient pas lu la dernière newsletter (sachant que le track n'est fiable que pour ceux qui acceptent les images dans leurs mails)	  	  -envoi à la liste des emails importés par fichier csv ou txt (Le format de ce fichier doit être sur 3 colonnes séparées par des ; (points-virgules) comme suit:	  					Email@d0maine.fr;Dupont;Georges					Autre.email@free.fr;Martin;Jacqueline					mon.email@perso.fr;;					etc...										Seule la première colonne est obligatoire ainsi que les 2 ; suivants. Un fichier exemple est fourni dans le module (exemple.csv) si vous voulez faire des tests.Le script recherche les doublons d’adresses emails dans la base de données et un seul envoi est fait.Si vous n’avez pas mis de sujet dans votre mail une erreur s’affiche. En effet les emails sans sujet sont souvent considérés comme du spam.Vous pouvez ensuite visualiser les résultats de vos envois réussis ou en échec.En cas d’utilisation de la variable %UNSUB% :Une page de confirmation contenant l’adresse e-mail est affichée.Un email est également envoyé . Le modèle de mail se situe dans /modules/blockNewsLetter/mails/fr/unsubscribe_conf.html.-Une sauvegarde au format html est réalisée lors  de votre envoi, dans le répertoire /newsletters, avec le sujet par défaut comprenant la date du jour en nom de fichier (Plus facile pour les retrouver, mais attention: n'utilisez pas de caractères incompatibles avec un nom de fichier comme / ou : ou autres) avec un maximum de un par jour. Si vous désirez en enregistrer plus qu’un par jour, il vous faudra changer le sujet.- Un warning vous avertira en cas d'absence de ce répertoire, le script tentera alors de le créer ainsi que le fichier index.php (pour éviter un listage de votre répertoire). Si la création de répertoire n'est pas possible, télécharger le repertoire par ftp. En cas de réussite d'envoi un « backup OK » suivi d’un apercu de votre fichier sauvegardé sera visible lors du premier mail envoyé.- Traceur d'ouverture de mails: En haut à droite de votre module apparait le nombre de mails ouverts(lus?) par rapport au nombre de mails envoyés lors de la précédente campagne. C'est surtout un indicateur car certaines messageries bloquent ce système (Gmail par exemple)- Vous pouvez également visualiser les statistiques des dernières campagnes et/ou les supprimer. Un maximum de 10 campagnes est conservé.- Un fichier log est créé par jour dans le répertoire modules/newsletteradmin/logs vous permettant de contrôler vos envois et éventuellement de les reprendre en cas d'échec.- Vous pouvez enregistrer votre newsletter comme modèle(template) pour pouvoir l'utiliser de nouveau en utilisant l'icone "insérer un modèle prédéfini" dans l'éditeur tiny.- + d'autres fonctionnalités que je vous laisse découvrir.Que cela profite à tous :)EoliaPS : Note sur les templates :Vos fichiers templates utilisables dans l’éditeur tiny-mce sont à placer dans :URL_de_votre_serveur/js/tiny_mce/templates (ou URL_de_votre_serveur/js/tinymce/jscripts/tiny_mce/templates  si vous avez une version <1.4)La liste des templates sera regénérée automatiquement.A vous de les créer ou de les récupérer sur le web. Attention aux templates trop lourds.PS2: Durant l'envoi des mails votre navigateur doit rester ouvert, cela ne vous empêche pas de travailler dans votre BO, il suffit pour cela d'ouvrir un deuxième onglet.Ce script a été testé sur des bases allant jusqu'à 20 000 inscrits. Attention aux grosses listes, le script doit d'abord extraire la base complète, vérifier la syntaxe des emails, supprimer les doublons.La longueur d'exécution du script sera alors peut-être stoppée par vos paramètres de php.ini (max_execution_time, etc).Une fois la liste stockée en mémoire l'envoi se fait par rafraichissement de la page pour chaque email.D'autre part il vous faudra ajuster le nombre d'envois par minute suivant les possibilités de votre serveur et ses restrictions (souvent autour de 400 mails/heure).